import{f as u,r as c,o as m,c as p,e as o,w as l,v as n,a as f}from"./index.a7f24905.js";const v={class:"container w-25 p-8 mt-4"},w=o("h1",null,"\u767B\u5165",-1),_={class:"border rounded p-4"},k=o("label",{for:"email",class:"fs-5"},"\u5E33\u865F:",-1),b=o("label",{for:"password",class:"mt-4 fs-5"},"\u5BC6\u78BC:",-1),y={__name:"SignView",setup(h){const i=u(),s=c({email:"",password:""}),d=t=>{t.email!==""||t.password!==""?f.post("http://localhost:3003/signin",t).then(e=>{document.cookie=`token=${e.data.accessToken}`,document.cookie=`userId = ${e.data.user.id}`,document.cookie=`role=${e.data.user.role}`,i.push("/")}).catch(e=>{alert("\u586B\u5BEB\u8CC7\u6599\u6709\u8AA4"),r()}):(alert("\u8ACB\u8F38\u5165\u5B8C\u6574\u8CC7\u8A0A!"),r())},r=()=>{s.value={email:"",password:""}};return(t,e)=>(m(),p("div",v,[w,o("form",_,[k,l(o("input",{type:"email",class:"form-control",id:"email",required:"","onUpdate:modelValue":e[0]||(e[0]=a=>s.value.email=a)},null,512),[[n,s.value.email,void 0,{trim:!0}]]),b,l(o("input",{type:"password",class:"form-control",id:"password",required:"","onUpdate:modelValue":e[1]||(e[1]=a=>s.value.password=a)},null,512),[[n,s.value.password,void 0,{trim:!0}]]),o("button",{type:"button",class:"mt-5 btn btn-primary form-control fs-5",onClick:e[2]||(e[2]=a=>d(s.value))},"\u767B\u5165")])]))}};export{y as default};
